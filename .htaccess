<IfModule mod_rewrite.c>
	Options +FollowSymlinks
	RewriteEngine On

  # Rewrite Base
  RewriteBase /public_html

  # Redirect all requests to public_html folder
  RewriteCond %{REQUEST_URI} !public_html/
  RewriteRule (.*) /public_html/$1 [L]

	# Redirect Trailing Slashes...
	RewriteCond %{REQUEST_FILENAME} !-d
	RewriteCond %{REQUEST_URI} (.+)/$
	RewriteRule ^ %1 [L,R=301]
	
  # Force HTTPS 
  RewriteCond %{HTTPS} off 
  RewriteRule ^(.*)$ https://%{HTTP_HOST}%{REQUEST_URI} [L,R=301]

  # Prevent hot-linking
  RewriteCond %{HTTP_REFERER} !^$
  RewriteCond %{HTTP_REFERER} !^http://(www\.)local.shape-share.com/.*$ [NC]
  RewriteRule \.(gif|jpg|jpeg|bmp|zip|rar|mp3|flv|swf|xml|php|png|css|pdf)$ - [F]

  # Disable HTTP TRACE AND HTTP TRACK methods
  RewriteCond %{REQUEST_METHOD} ^(TRACE|TRACK)
  RewriteRule .* - [F]

  # Redirect www to " "
  RewriteCond %{HTTP_HOST} ^www\.local.shape-share\.tld$ [NC]
  RewriteRule (.*) http://local.shape-share.tld/$1 [R=301,L]
</IfModule>

# Prevent access to filetypes
<FilesMatch "\.(htaccess|htpasswd|ini|phps|log|sh|json|lock|md)$">
	Order Allow,Deny
	Deny from all
</FilesMatch>

# Disable directory browsing
Options All -Indexes


# Disable server signature start
	ServerSignature Off
# Disable server signature end